<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;swift&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="swift">swift</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/Tappr/slate'>Edit on Github</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>
<pre class="highlight shell"><code>
  API endpoint
  https://api.tappr.io

</code></pre><pre class="highlight ruby"><code>
  <span class="no">API</span> <span class="n">endpoint</span>
  <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">api</span><span class="p">.</span><span class="nf">tappr</span><span class="p">.</span><span class="nf">io</span>

</code></pre><pre class="highlight python"><code>
  <span class="n">API</span> <span class="n">endpoint</span>
  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">tappr</span><span class="o">.</span><span class="n">io</span>

</code></pre><pre class="highlight swift"><code>
  <span class="kt">API</span> <span class="n">endpoint</span>
  <span class="nv">https</span><span class="p">:</span><span class="c1">//api.tappr.io</span>

</code></pre>
<p>Welcome to the Tappr API! You can use our API to access Tappr API endpoints.</p>

<p>You can view code examples in the dark area to the right.</p>

<p>Our developersâ€™ community in Slack is the place to get help with our API, discuss ideas, and show off what you build. Hit the link below to join. </p>

<p><script async defer src="https://slackin-tpsaqfrvhh.now.sh/slackin.js"></script></p>

<p><aside class="notice">Tappr API doc. This is a WORKING copy and will change.</aside></p>

<h2 id="standards">Standards</h2>

<p>Tappr&rsquo;s API is built with commonly used RESTful design patterns in the industry. Below you&rsquo;ll see all the Tappr services and can access through HTTP semantics. HTTPS stauts codes are used to communicate the states, OAuth 2.0 is used for API Authentication and Authorisations.</p>

<h2 id="date-and-times">Date and Times</h2>

<p>All date time values are in UTC and is formatted</p>

          <h1 id="authentication">Authentication</h1>

<h2 id="oauth">OAuth</h2>

<p>The Tappr API Implements <a>OAuth 2.0</a> to allow users to log in to applications without exposing their credentials. The process involves several steps.</p>

<ol>
<li>Acquire an access token, and optinoally a refresh token</li>
<li>Use the access token to make authenticated requests</li>
<li>If you were issued a refresh token: refresh the access token when it expires</li>
</ol>

<aside class="notice">To get started quicky, you can use the access token from the API playground and avoic implementing the OAuth login flow.</aside>

<p>Before you begin, you need to create a client in the developer tools.</p>

<h2 id="password-authentication">Password Authentication</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.tappr.io/v1/authenticate <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
        "client_id": "7ea20b0c-d163-4f4d-9fc5-62d56a151988",
        "grant_type": "password",
        "username": "john@example.com",
        "password": "wre2H2odwT96wactnn"
      }'</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a171ab16c270a86be0dea1dcd2f36b0a"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Tappr&rsquo;s API expects an active API token to be included in request all authorized endpoints.</p>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">client_id</code>   <em>REQUIRED</em></td>
<td style="text-align: left">Issued to you when you register your application through <code class="prettyprint">developer.tappr.io</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">grant_type</code>  <em>REQUIRED</em></td>
<td style="text-align: left">Should be <code class="prettyprint">password</code>, other grant type is <code class="prettyprint">refresh_token</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">username</code>    <em>REQUIRED</em></td>
<td style="text-align: left">user name of Tappr</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">password</code>    <em>REQUIRED</em></td>
<td style="text-align: left">password of Tappr</td>
</tr>
</tbody></table>

<h2 id="refreshing-authentication">Refreshing Authentication</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.tappr.io/v1/authenticate <span class="se">\</span>
  -H <span class="s2">"application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
        "client_id": "7ea20b0c-d163-4f4d-9fc5-62d56a151988",
        "grant_type": "refresh_token",
        "refresh_token": "a171ab16c270a86be0dea1dcd2f36b0a"
      }'</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI5NzY0NTU3ODA3NiIsIm5hbWUiOiJKb2huIERvZSIsImFkbWluIjp0cnVlfQ.g5XG4KXa3QYiJDEtBQwY0qnnvRnS8JbFDEl7ngUwT0A"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e0fb5bc8439833bcd5eab25c7004994"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When you receive an Access Token from the API through the <code class="prettyprint">/authenticate</code> endpoint, you also receive a <em>Refresh Token</em>. This token may be used so continue your users session without prompting for their password again.</p>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">client_id</code> <em>REQUIRED</em></td>
<td style="text-align: left">Issued to you when you register your application through <code class="prettyprint">developer.tappr.io</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">grant_type</code> <em>REQUIRED</em></td>
<td style="text-align: left">should be <code class="prettyprint">refresh_token</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">refresh_token</code> <em>REQUIRED</em></td>
<td style="text-align: left">the value of <em>Refresh Token</em> you got from password authentication</td>
</tr>
</tbody></table>

          <h1 id="pagination">Pagination</h1>

<p>Endpoints such as Orders might paginate the results they return. This means that instead of returning all results in a single response, these endpoints might return some of the results, along with a &lsquo;cursor&rsquo; in the response body that links to the next set of results. The current maximum is currently set at 20.</p>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">limit</code>   <em>OPTIONAL</em></td>
<td style="text-align: left">Limits the number of results per-page. Maximum 20.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">since</code>   <em>OPTIONAL</em></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">before</code>    <em>OPTIONAL</em></td>
<td style="text-align: left"></td>
</tr>
</tbody></table>

          <h1 id="users">Users</h1>

<p>Users are the merchant users and can be broken down to several roles. Typically the primary Sole Trader, Director or owner is the main user. This role is called the Primary Owner.</p>

<h2 id="create-user">Create User</h2>

<p>To create a user for a business.</p>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/user"</span> <span class="se">\</span>
    -d <span class="s1">'{
            "email": "user@example.com",
            "first_name": "John",
            "last_name": "Smith",
            "pin": "1387"
        }'</span>
</code></pre><pre class="highlight ruby"><code><span class="c1"># Create a user (POST)</span>
<span class="k">def</span> <span class="nf">send_request</span>
  <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s1">'http://api.tappr.io/v1/user'</span><span class="p">)</span>

  <span class="c1"># Create client</span>
  <span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
  <span class="n">dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"user@example.com"</span><span class="p">,</span>
            <span class="s2">"username"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
            <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Smith"</span><span class="p">,</span>
            <span class="s2">"password"</span> <span class="o">=&gt;</span> <span class="s2">"Password123"</span><span class="p">,</span>
            <span class="s2">"echo"</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="s2">"upstream_id"</span> <span class="o">=&gt;</span> <span class="s2">"f083ba0f-255d-4707-9c8e-dfd14a9c56db"</span>
            <span class="p">},</span>
            <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span>
        <span class="p">}</span>

</code></pre><pre class="highlight python"><code><span class="k">def</span> <span class="nf">send_request</span><span class="p">():</span>
    <span class="c"># Create a user</span>
    <span class="c"># POST http://api.tappr.io/v1/user</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"http://api.tappr.io/v1/user"</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json; charset=utf-8"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
                <span class="s">"email"</span><span class="p">:</span> <span class="s">"user@example.com"</span><span class="p">,</span>
                <span class="s">"username"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
                <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Smith"</span><span class="p">,</span>
                <span class="s">"password"</span><span class="p">:</span> <span class="s">"Password123"</span><span class="p">,</span>
                <span class="s">"echo"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"upstream_id"</span><span class="p">:</span> <span class="s">"8f0303bb-39a7-43f2-86bc-ce42b7ec9821"</span>
                <span class="p">},</span>
                <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"John"</span>
            <span class="p">})</span>
        <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Status Code: {status_code}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Response Body: {content}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'HTTP Request failed'</span><span class="p">)</span>

</code></pre><pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">MyRequestController</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sendRequest</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* Configure session, choose between:
           * defaultSessionConfiguration
           * ephemeralSessionConfiguration
           * backgroundSessionConfigurationWithIdentifier:
         And set session-wide properties, such as: HTTPAdditionalHeaders,
         HTTPCookieAcceptPolicy, requestCachePolicy or timeoutIntervalForRequest.
         */</span>
        <span class="k">let</span> <span class="nv">sessionConfig</span> <span class="o">=</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="k">default</span>

        <span class="cm">/* Create session, and optionally set a URLSessionDelegate. */</span>
        <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">sessionConfig</span><span class="p">,</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">delegateQueue</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

        <span class="cm">/* Create the Request:
           Create a user (POST http://api.tappr.io/v1/user)
         */</span>

        <span class="k">guard</span> <span class="k">var</span> <span class="nv">URL</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://api.tappr.io/v1/user"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
        <span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>

        <span class="c1">// Headers</span>

        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json; charset=utf-8"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>

        <span class="c1">// JSON Body</span>

        <span class="k">let</span> <span class="nv">bodyObject</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">"email"</span><span class="p">:</span> <span class="s">"user@example.com"</span><span class="p">,</span>
            <span class="s">"username"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
            <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Smith"</span><span class="p">,</span>
            <span class="s">"password"</span><span class="p">:</span> <span class="s">"Password123"</span><span class="p">,</span>
            <span class="s">"echo"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">"upstream_id"</span><span class="p">:</span> <span class="s">"f3036d28-cb17-4fce-bc55-9bcd63bc1f14"</span>
            <span class="p">],</span>
            <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"John"</span>
        <span class="p">]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="k">try!</span> <span class="kt">JSONSerialization</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">withJSONObject</span><span class="p">:</span> <span class="n">bodyObject</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[])</span>

        <span class="cm">/* Start a new Task */</span>
        <span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">?,</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">URLResponse</span><span class="p">?,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Success</span>
                <span class="k">let</span> <span class="nv">statusCode</span> <span class="o">=</span> <span class="p">(</span><span class="n">response</span> <span class="k">as!</span> <span class="kt">HTTPURLResponse</span><span class="p">)</span><span class="o">.</span><span class="n">statusCode</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Succeeded: HTTP </span><span class="se">\(</span><span class="n">statusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Failure</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Failed: %@"</span><span class="p">,</span> <span class="n">error</span><span class="o">!.</span><span class="n">localizedDescription</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="nf">finishTasksAndInvalidate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"first_name"</span>: <span class="s2">"John"</span>,
  <span class="s2">"last_name"</span>: <span class="s2">"Smith"</span>,
  <span class="s2">"email"</span>: <span class="s2">"user@example.com"</span>,
  <span class="s2">"username"</span>: <span class="s2">"@john.smith"</span>,
  <span class="s2">"password"</span>: <span class="s2">"Password123"</span>,
  <span class="s2">"echo"</span>: <span class="o">{</span>
    <span class="s2">"upstream_id"</span>: <span class="s2">""</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight ruby"><code><span class="c1">#&lt;Tappr::user id=:token&gt; JSON: {</span>
  <span class="s2">"first_name"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"user@example.com"</span><span class="p">,</span>
  <span class="s2">"username"</span><span class="p">:</span> <span class="s2">"@john.smith"</span><span class="p">,</span>
  <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"Password123"</span><span class="p">,</span>
  <span class="s2">"echo"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"upstream_id"</span><span class="p">:</span> <span class="s2">""</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">first_name</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
<td style="text-align: left">The user&rsquo;s first name.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">last_name</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
<td style="text-align: left">The user&rsquo;s last name.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">password</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (required)</td>
<td style="text-align: left">The user&rsquo;s unique password.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">email_address</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (required)</td>
<td style="text-align: left">The user&rsquo;s individual email address.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user_phone</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
<td style="text-align: left">The user&rsquo;s mobile phone number.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">employee_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
<td style="text-align: left">The user&rsquo;s unique ID.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">string (required)</td>
<td style="text-align: left">The business&rsquo;s unique ID.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">role_ids</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
<td style="text-align: left">The user&rsquo;s role.</td>
</tr>
</tbody></table>

<h2 id="get-user">Get User</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/user"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="c1"># Retrieve a user (GET )</span>
<span class="k">def</span> <span class="nf">send_request</span>
  <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s1">'http://api.tappr.io/v1/user'</span><span class="p">)</span>

  <span class="c1"># Create client</span>
  <span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
  <span class="n">dict</span> <span class="o">=</span> <span class="p">{</span>

        <span class="p">}</span>
  <span class="n">body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">dict</span><span class="p">)</span>

  <span class="c1"># Create Request</span>
  <span class="n">req</span> <span class="o">=</span>  <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
  <span class="c1"># Add headers</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">add_field</span> <span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Bearer ***** Hidden credentials *****"</span>
  <span class="c1"># Add headers</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">add_field</span> <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json; charset=utf-8"</span>
  <span class="c1"># Set body</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">body</span>

  <span class="c1"># Fetch Request</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Response HTTP Status Code: </span><span class="si">#{</span><span class="n">res</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Response HTTP Response Body: </span><span class="si">#{</span><span class="n">res</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
<span class="k">rescue</span> <span class="no">StandardError</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="nb">puts</span> <span class="s2">"HTTP Request failed (</span><span class="si">#{</span><span class="n">e</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">)"</span>
<span class="k">end</span>
</code></pre><pre class="highlight python"><code><span class="c"># Install the Python Requests library:</span>
<span class="c"># `pip install requests`</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="k">def</span> <span class="nf">send_request</span><span class="p">():</span>
    <span class="c"># Retrieve a user</span>
    <span class="c"># GET http://api.tappr.io/v1/user</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"http://api.tappr.io/v1/user"</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer ***** Hidden credentials *****"</span><span class="p">,</span>
                <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json; charset=utf-8"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>

            <span class="p">})</span>
        <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Status Code: {status_code}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Response Body: {content}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'HTTP Request failed'</span><span class="p">)</span>
</code></pre><pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">MyRequestController</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sendRequest</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* Configure session, choose between:
           * defaultSessionConfiguration
           * ephemeralSessionConfiguration
           * backgroundSessionConfigurationWithIdentifier:
         And set session-wide properties, such as: HTTPAdditionalHeaders,
         HTTPCookieAcceptPolicy, requestCachePolicy or timeoutIntervalForRequest.
         */</span>
        <span class="k">let</span> <span class="nv">sessionConfig</span> <span class="o">=</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="k">default</span>

        <span class="cm">/* Create session, and optionally set a URLSessionDelegate. */</span>
        <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">sessionConfig</span><span class="p">,</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">delegateQueue</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

        <span class="cm">/* Create the Request:
           Retrieve a user (GET http://api.tappr.io/v1/user)
         */</span>

        <span class="k">guard</span> <span class="k">var</span> <span class="nv">URL</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://api.tappr.io/v1/user"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
        <span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"GET"</span>

        <span class="c1">// Headers</span>

        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer ***** Hidden credentials *****"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json; charset=utf-8"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>

        <span class="c1">// JSON Body</span>

        <span class="k">let</span> <span class="nv">bodyObject</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>

        <span class="p">]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="k">try!</span> <span class="kt">JSONSerialization</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">withJSONObject</span><span class="p">:</span> <span class="n">bodyObject</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[])</span>

        <span class="cm">/* Start a new Task */</span>
        <span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">?,</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">URLResponse</span><span class="p">?,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Success</span>
                <span class="k">let</span> <span class="nv">statusCode</span> <span class="o">=</span> <span class="p">(</span><span class="n">response</span> <span class="k">as!</span> <span class="kt">HTTPURLResponse</span><span class="p">)</span><span class="o">.</span><span class="n">statusCode</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Succeeded: HTTP </span><span class="se">\(</span><span class="n">statusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Failure</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Failed: %@"</span><span class="p">,</span> <span class="n">error</span><span class="o">!.</span><span class="n">localizedDescription</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="nf">finishTasksAndInvalidate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@tappr.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"employments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"business"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
                </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cf3e762c-d19d-41f6-a396-b9f00999adbf"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"address_resolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fortitude Valley"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"coordinates_resolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1062 Ann Street"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4006"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QLD"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d152fd34-c884-4d91-a6d1-82a7685bb210"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Primary"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1300TAPPR"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia/Brisbane"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5735"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c7dae556-fee0-4e8e-9c94-0deea6a16fd6"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"registered_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tappr Pty Ltd"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"trading_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tappr"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
                </span><span class="nt">"use_trading_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@tappr.io"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tappr"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c46a5fc-a41e-41b2-9fb3-9827162c4254"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Developer"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tappr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c7dae556-fee0-4e8e-9c94-0deea6a16fd6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Developer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479878939</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@tappr.io"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get a user at a business.</p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">employee_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">string (required)</td>
<td style="text-align: left">The user&rsquo;s unique ID.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">string (required)</td>
<td style="text-align: left">The business&rsquo;s unique ID.</td>
</tr>
</tbody></table>

<h2 id="update-a-user">Update a user</h2>

<p>Update a user of a business with general information or a role.</p>

          <h1 id="roles">Roles</h1>

<p>Roles are a defined set of permissions for users. There are four main role permissions. </p>

<table><thead>
<tr>
<th style="text-align: left">Role</th>
<th style="text-align: left">Rank</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">primary_owner</code></td>
<td style="text-align: left"><code class="prettyprint">1</code></td>
<td style="text-align: left">The primary owner of the business or admin.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">owner (2IC)</code></td>
<td style="text-align: left"><code class="prettyprint">2</code></td>
<td style="text-align: left">The second in command, and has similar functionality to the primary owner.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">manager</code></td>
<td style="text-align: left"><code class="prettyprint">3</code></td>
<td style="text-align: left">A Manager of the business.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">user</code></td>
<td style="text-align: left"><code class="prettyprint">4</code></td>
<td style="text-align: left">A user is an employee with limited functionality</td>
</tr>
</tbody></table>

<h3 id="arguements">Arguements</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">String (Required)</td>
</tr>
</tbody></table>

          <h1 id="orders">Orders</h1>
<pre class="highlight shell"><code>GET / locations/<span class="o">{</span>businessID<span class="o">}</span>/orders
</code></pre>
<blockquote>
<p>Request</p>
</blockquote>

<p>Orders represents a customer&rsquo;s request to purchase one or more items from a business. An order contains details about all the items or supplimentary sale requirements like discounts or fees. An order can be Open, Voided or Completed states. An active order will be in an Open state. </p>

<h3 id="arguements">Arguements</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">String (Required)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">if_modified_since</code></td>
<td style="text-align: left"><code class="prettyprint">header</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">start_at</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">end_at</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">limit</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">cardNumberFirst6</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">cardNumberLast4</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">cardExpirationMonth</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">cardExpirationYear</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">cardHolderFirstName</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">cardHolderLastName</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">store_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">String (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">includesStaysAll</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">Boolean (Optional)</td>
</tr>
</tbody></table>

<h2 id="create-order">Create Order</h2>

<p><code class="prettyprint">POST / locations/{businessID}/orders</code></p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">items</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">This field represents the goods provided through this order</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">status</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">[<code class="prettyprint">OPEN</code></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">total</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">This field <em>must</em> be the total displayed to a customer</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">opened_at</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">The epoch timestamp the order was created at</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">opened_by</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">The ID of the User that created the order</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">reference</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">An arbitrary id provided by the payment provider</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">reference_source</code></td>
<td style="text-align: left"><code class="prettyprint">Required</code></td>
<td style="text-align: left">The source that provided the reference</td>
</tr>
</tbody></table>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/locations/:location_id/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span> <span class="se">\</span>
    -d <span class="s1">'{
            "items": [
                {
                    "discounts": [],
                    "fees": [],
                    "name": "Custom",
                    "price": {
                        "currency_code": "AUD",
                        "minor_units": 500
                    },
                    "quantity": 1.0,
                    "total": {
                        "currency_code": "AUD",
                        "minor_units": 500
                    },
                    "type": "CUSTOM"
                }
            ],
            "opened_at": 1481844679.02264,
            "opened_by": "7e304336-74cc-49e6-b7d8-f1c59f4258c0",
            "reference": "EC6D6350-E7CB-4169-AA24-1009D4ED4363",
            "reference_source": "TAPPR",
            "status": "COMPLETED",
            "tenders": [
                {
                    "amount": {
                        "currency_code": "AUD",
                        "minor_units": 500
                    },
                    "change": {
                        "currency_code": "AUD",
                        "minor_units": 0
                    },
                    "device_id": "CAF1E353-EBB9-4209-A7EF-E5BF0815B7DA",
                    "employee_id": "7e304336-74cc-49e6-b7d8-f1c59f4258c0",
                    "payment_type": "CASH",
                    "reference": "6978D003-C98B-424F-9DC3-66D0F86D356E",
                    "tendered": {
                        "currency_code": "AUD",
                        "minor_units": 0
                    }
                }
            ],
            "total": {
                "currency_code": "AUD",
                "minor_units": 500
            }
        }'</span>
</code></pre>
<h2 id="get-all-orders">Get all Orders</h2>

<p>Get all Orders that match specific filters. If no filter is specified it will fetch all order for the business since the business started. Tappr currently returns 20 records at a time. </p>

<h3 id="arguements">ARGUEMENTS</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">string (required)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">if_modifed_since</code></td>
<td style="text-align: left"><code class="prettyprint">header</code></td>
<td style="text-align: left">string (optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">ended_at</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (optional)</td>
</tr>
</tbody></table>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/locations/:lid/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c953f762-112b-435a-b67d-9f5e2d0b8258"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"711f4255-8d64-4ea9-993b-7e1fdf0971bb"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"opened_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-18T01:53:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"opened_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e304336-74cc-49e6-b7d8-f1c59f4258c0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"005BA12F-31C9-47D8-A8B7-4BD1C2A48542"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAPPR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tenders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"change"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="p">,</span><span class="w">
                </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caf1e353-ebb9-4209-a7ef-e5bf0815b7da"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"employee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e304336-74cc-49e6-b7d8-f1c59f4258c0"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a608c9f6-4016-42e3-9596-b00979bd4f7c"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"711f4255-8d64-4ea9-993b-7e1fdf0971bb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{}"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c953f762-112b-435a-b67d-9f5e2d0b8258"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A757AC47-73ED-4359-B03D-072C897F0D09"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tendered"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h2 id="order-items">Order Items</h2>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Default</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">name</code></td>
<td style="text-align: left"><code class="prettyprint">Custom</code></td>
<td style="text-align: left">The name of the order item</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">quantity</code></td>
<td style="text-align: left"><code class="prettyprint">1.0</code></td>
<td style="text-align: left">The quantity of units sold</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">type</code></td>
<td style="text-align: left"></td>
<td style="text-align: left"><code class="prettyprint">[CUSTOM, PRODUCT]</code></td>
</tr>
</tbody></table>

<h2 id="update-an-order">Update an Order</h2>

<h2 id="cancel-an-order">Cancel an Order</h2>

          <h1 id="tenders">Tenders</h1>

<h2 id="tender-create">Tender Create</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># curl -X POST "https://api.tappr.io/locations/:location_id/orders/:order_id/tenders" \</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
    -d <span class="s1">'{
            "amount": {
                "currency_code": "AUD",
                "minor_units": 500
            },
            "change": {
                "currency_code": "AUD",
                "minor_units": 0
            },
            "device_id": "CAF1E353-EBB9-4209-A7EF-E5BF0815B7DA",
            "employee_id": "7e304336-74cc-49e6-b7d8-f1c59f4258c0",
            "payment_type": "CASH",
            "reference": "6978D003-C98B-424F-9DC3-66D0F86D356E",
            "tendered": {
                "currency_code": "AUD",
                "minor_units": 0
            }
        }'</span>

</code></pre>
<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">amount</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">The amount given</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tendered</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">The amount taken (typically equivalent to amount for non cash tenders)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">change</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">The amount returned (typically zero for non cash tenders)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">reference</code></td>
<td style="text-align: left"><code class="prettyprint">Optional</code></td>
<td style="text-align: left">An arbitrary id provided by the payment provider</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">reference_source</code></td>
<td style="text-align: left"><code class="prettyprint">Optional</code></td>
<td style="text-align: left">The source that provided the reference</td>
</tr>
</tbody></table>

<h2 id="get-all-tenders">Get all Tenders</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/locations/:location_id/orders/:order_id/tenders"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"change"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="p">,</span><span class="w">
        </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caf1e353-ebb9-4209-a7ef-e5bf0815b7da"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"employee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e304336-74cc-49e6-b7d8-f1c59f4258c0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a608c9f6-4016-42e3-9596-b00979bd4f7c"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"711f4255-8d64-4ea9-993b-7e1fdf0971bb"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c953f762-112b-435a-b67d-9f5e2d0b8258"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A757AC47-73ED-4359-B03D-072C897F0D09"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tendered"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479433994</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get all transactions that match the specified filters. If no filter is specified it will fetch all transactions for the business since it started. We currently return 20 records at a time.</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">The unique id of the business.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">device_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">The serial number of the terminal allocated to the merchant.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">employee_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">The unique id of the employee.</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">payment_type</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">card_scheme</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">card_account</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">pan_suffix</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">currency_code</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">amount</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">The amount given</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">tendered</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">The amount taken (typically equivalent to amount for non cash tenders)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">change</code></td>
<td style="text-align: left"></td>
<td style="text-align: left">The amount returned (typically zero for non cash tenders)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">reference</code></td>
<td style="text-align: left"><code class="prettyprint">Optional</code></td>
<td style="text-align: left">An arbitrary id provided by the payment provider</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">reference_source</code></td>
<td style="text-align: left"><code class="prettyprint">Optional</code></td>
<td style="text-align: left">The source that provided the reference</td>
</tr>
</tbody></table>

<h2 id="update-tender">Update Tender</h2>

<h2 id="get-a-tender">Get a Tender</h2>

          <h1 id="products">Products</h1>

<p>Products are what a merchant sells at their business. Products have a <code class="prettyprint">name</code>, <code class="prettyprint">shotcode</code>, <code class="prettyprint">sku</code>, and <code class="prettyprint">price</code>. <code class="prettyprint">sku</code> should be unique for tracking inventory. </p>

<h2 id="get-list">Get List</h2>
<pre class="highlight shell"><code>GET /businesses/:business_id/products
</code></pre>
<h2 id="product-create">Product Create</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/businesses/:business_id/products"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
    -d <span class="s1">'{
            "name": "Flat-White",
            "variants": [
                {
                    "amount": {
                        "currency_code": "AUD",
                        "minor_units": 19999
                    },
                    "configuration": {},
                    "created_at": 1479344701,
                    "id": "730ebb67-9ec5-4013-898d-71a52ca780eb",
                    "updated_at": 1479344701
                }
            ]
        }'</span>
</code></pre>
<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Requirements</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">variants</code></td>
<td style="text-align: left"><code class="prettyprint">count &gt; 0</code></td>
</tr>
</tbody></table>

<h2 id="update-product">Update Product</h2>
<pre class="highlight shell"><code>PUT /businesses/:business_id/products
</code></pre>
<h2 id="categories">Categories</h2>

<h2 id="variants">Variants</h2>

<p>Products may have 1 or more Variants. Variants represent different physical versions of a single product. Variants are where the price for the product is stored.</p>

<p>Typically this would be different sizes of the same product.</p>

<h2 id="get-all-products">Get all Products</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/businesses/:business_id/products"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479344701</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2edd62d6-58cf-426b-b5fe-b60d8b1cb45f"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red Herring"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479344701</span><span class="p">,</span><span class="w">
        </span><span class="nt">"variants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"minor_units"</span><span class="p">:</span><span class="w"> </span><span class="mi">19999</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479344701</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"730ebb67-9ec5-4013-898d-71a52ca780eb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479344701</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
          <h1 id="fees">Fees</h1>

<p>Merchants must collect appropriate fees or &ldquo;Taxes&rdquo; based on their business and the products they sell. A fee, once defined, can be associated to a category, item or all tenders.</p>

<h2 id="get-fee-list">Get Fee List</h2>

<p>Get all fee rates for this merchant.</p>

<blockquote>
<p>Request </p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/v1/businesses/:business_id/fees"</span>

</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="c1"># List all fees (GET )</span>
<span class="k">def</span> <span class="nf">send_request</span>
  <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s1">'http://api.tapp.io/v1/businesses/:business_id/fees?page=2'</span><span class="p">)</span>

  <span class="c1"># Create client</span>
  <span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
  <span class="n">dict</span> <span class="o">=</span> <span class="p">{</span>

        <span class="p">}</span>
  <span class="n">body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">dict</span><span class="p">)</span>

  <span class="c1"># Create Request</span>
  <span class="n">req</span> <span class="o">=</span>  <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
  <span class="c1"># Add headers</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">add_field</span> <span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Bearer ***** Hidden credentials *****"</span>
  <span class="c1"># Add headers</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">add_field</span> <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json; charset=utf-8"</span>
  <span class="c1"># Set body</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">body</span>

  <span class="c1"># Fetch Request</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Response HTTP Status Code: </span><span class="si">#{</span><span class="n">res</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Response HTTP Response Body: </span><span class="si">#{</span><span class="n">res</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
<span class="k">rescue</span> <span class="no">StandardError</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="nb">puts</span> <span class="s2">"HTTP Request failed (</span><span class="si">#{</span><span class="n">e</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">)"</span>
<span class="k">end</span>

</code></pre><pre class="highlight python"><code><span class="c"># Install the Python Requests library:</span>
<span class="c"># `pip install requests`</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="k">def</span> <span class="nf">send_request</span><span class="p">():</span>
    <span class="c"># List all fees</span>
    <span class="c"># GET http://api.tappr.io/v1/businesses/:business_id/fees</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"http://api.tappr.io/v1/businesses/:business_id/fees"</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s">"page"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer ***** Hidden credentials *****"</span><span class="p">,</span>
                <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json; charset=utf-8"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>

            <span class="p">})</span>
        <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Status Code: {status_code}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Response Body: {content}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'HTTP Request failed'</span><span class="p">)</span>

</code></pre><pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">MyRequestController</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sendRequest</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* Configure session, choose between:
           * defaultSessionConfiguration
           * ephemeralSessionConfiguration
           * backgroundSessionConfigurationWithIdentifier:
         And set session-wide properties, such as: HTTPAdditionalHeaders,
         HTTPCookieAcceptPolicy, requestCachePolicy or timeoutIntervalForRequest.
         */</span>
        <span class="k">let</span> <span class="nv">sessionConfig</span> <span class="o">=</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="k">default</span>

        <span class="cm">/* Create session, and optionally set a URLSessionDelegate. */</span>
        <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">sessionConfig</span><span class="p">,</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">delegateQueue</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

        <span class="cm">/* Create the Request:
           List all fees (GET http://api.tappr.io/v1/businesses/:business_id/fees)
         */</span>

        <span class="k">guard</span> <span class="k">var</span> <span class="nv">URL</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://api.tappr.io/v1/businesses/:business_id/fees"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
        <span class="k">let</span> <span class="nv">URLParams</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">"page"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="kt">URL</span> <span class="o">=</span> <span class="kt">URL</span><span class="o">.</span><span class="nf">appendingQueryParameters</span><span class="p">(</span><span class="kt">URLParams</span><span class="p">)</span>
        <span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"GET"</span>

        <span class="c1">// Headers</span>

        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer ***** Hidden credentials *****"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json; charset=utf-8"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>

        <span class="c1">// JSON Body</span>

        <span class="k">let</span> <span class="nv">bodyObject</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>

        <span class="p">]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="k">try!</span> <span class="kt">JSONSerialization</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">withJSONObject</span><span class="p">:</span> <span class="n">bodyObject</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[])</span>

        <span class="cm">/* Start a new Task */</span>
        <span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">?,</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">URLResponse</span><span class="p">?,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Success</span>
                <span class="k">let</span> <span class="nv">statusCode</span> <span class="o">=</span> <span class="p">(</span><span class="n">response</span> <span class="k">as!</span> <span class="kt">HTTPURLResponse</span><span class="p">)</span><span class="o">.</span><span class="n">statusCode</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Succeeded: HTTP </span><span class="se">\(</span><span class="n">statusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Failure</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Failed: %@"</span><span class="p">,</span> <span class="n">error</span><span class="o">!.</span><span class="n">localizedDescription</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="nf">finishTasksAndInvalidate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kd">protocol</span> <span class="kt">URLQueryParameterStringConvertible</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">queryParameters</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span><span class="k">get</span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">Dictionary</span> <span class="p">:</span> <span class="kt">URLQueryParameterStringConvertible</span> <span class="p">{</span>
    <span class="cm">/**
     This computed property returns a query parameters string from the given NSDictionary. For
     example, if the input is @{@"day":@"Tuesday", @"month":@"January"}, the output
     string will be @"day=Tuesday&amp;month=January".
     @return The computed parameters string.
    */</span>
    <span class="k">var</span> <span class="nv">queryParameters</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">parts</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">in</span> <span class="k">self</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">part</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="s">"%@=%@"</span><span class="p">,</span>
                <span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="nf">addingPercentEncoding</span><span class="p">(</span><span class="nv">withAllowedCharacters</span><span class="p">:</span> <span class="o">.</span><span class="n">urlQueryAllowed</span><span class="p">)</span><span class="o">!</span><span class="p">,</span>
                <span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="nf">addingPercentEncoding</span><span class="p">(</span><span class="nv">withAllowedCharacters</span><span class="p">:</span> <span class="o">.</span><span class="n">urlQueryAllowed</span><span class="p">)</span><span class="o">!</span><span class="p">)</span>
            <span class="n">parts</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">part</span> <span class="k">as</span> <span class="kt">String</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">parts</span><span class="o">.</span><span class="nf">joined</span><span class="p">(</span><span class="nv">separator</span><span class="p">:</span> <span class="s">"&amp;"</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">URL</span> <span class="p">{</span>
    <span class="cm">/**
     Creates a new URL by adding the given query parameters.
     @param parametersDictionary The query parameter dictionary to add.
     @return A new URL.
    */</span>
    <span class="kd">func</span> <span class="nf">appendingQueryParameters</span><span class="p">(</span><span class="n">_</span> <span class="nv">parametersDictionary</span> <span class="p">:</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">URL</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">URLString</span> <span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="s">"%@?%@"</span><span class="p">,</span> <span class="k">self</span><span class="o">.</span><span class="n">absoluteString</span><span class="p">,</span> <span class="n">parametersDictionary</span><span class="o">.</span><span class="n">queryParameters</span><span class="p">)</span>
        <span class="k">return</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="kt">URLString</span><span class="p">)</span><span class="o">!</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre>
<h3 id="arguments">ARGUMENTS</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">if_modified_since</code></td>
<td style="text-align: left"><code class="prettyprint">header</code></td>
<td style="text-align: left">string (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">created_at</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">updated_at</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">limit</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">integer (Optional)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (Optional)</td>
</tr>
</tbody></table>

<h2 id="create-fee">Create Fee</h2>

<p>Create a fee rate definition for a business.</p>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/v1/businesses/:business_id/fees"</span>

</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="c1"># Create a fee (POST )</span>
<span class="k">def</span> <span class="nf">send_request</span>
  <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s1">'http://api.tappr.io/v1/businesses/:business_id/fees'</span><span class="p">)</span>

  <span class="c1"># Create client</span>
  <span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
  <span class="n">dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">"status"</span> <span class="o">=&gt;</span> <span class="s2">"ACTIVE"</span><span class="p">,</span>
            <span class="s2">"calculation_phase"</span> <span class="o">=&gt;</span> <span class="s2">"TOTAL"</span><span class="p">,</span>
            <span class="s2">"fee_type"</span> <span class="o">=&gt;</span> <span class="s2">"GOVERNMENT"</span><span class="p">,</span>
            <span class="s2">"inclusion_type"</span> <span class="o">=&gt;</span> <span class="s2">"ADDITIVE"</span><span class="p">,</span>
            <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="s2">"currency_code"</span> <span class="o">=&gt;</span> <span class="s2">"AUD"</span><span class="p">,</span>
                <span class="s2">"minor_units"</span> <span class="o">=&gt;</span> <span class="mi">10</span>
            <span class="p">},</span>
            <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"GST"</span><span class="p">,</span>
            <span class="s2">"apply_to_custom_amount"</span> <span class="o">=&gt;</span> <span class="kp">true</span>
        <span class="p">}</span>
  <span class="n">body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">dict</span><span class="p">)</span>

  <span class="c1"># Create Request</span>
  <span class="n">req</span> <span class="o">=</span>  <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
  <span class="c1"># Add headers</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">add_field</span> <span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Token "</span>
  <span class="c1"># Add headers</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">add_field</span> <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json; charset=utf-8"</span>
  <span class="c1"># Set body</span>
  <span class="n">req</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">body</span>

  <span class="c1"># Fetch Request</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Response HTTP Status Code: </span><span class="si">#{</span><span class="n">res</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"Response HTTP Response Body: </span><span class="si">#{</span><span class="n">res</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
<span class="k">rescue</span> <span class="no">StandardError</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="nb">puts</span> <span class="s2">"HTTP Request failed (</span><span class="si">#{</span><span class="n">e</span><span class="p">.</span><span class="nf">message</span><span class="si">}</span><span class="s2">)"</span>
<span class="k">end</span>
</code></pre><pre class="highlight python"><code><span class="c"># Install the Python Requests library:</span>
<span class="c"># `pip install requests`</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="k">def</span> <span class="nf">send_request</span><span class="p">():</span>
    <span class="c"># Create a fee</span>
    <span class="c"># POST http://api.tappr.io/v1/businesses/:business_id/fees</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"http://api.tappr.io/v1/businesses/:business_id/fees"</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Token "</span><span class="p">,</span>
                <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json; charset=utf-8"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
                <span class="s">"status"</span><span class="p">:</span> <span class="s">"ACTIVE"</span><span class="p">,</span>
                <span class="s">"calculation_phase"</span><span class="p">:</span> <span class="s">"TOTAL"</span><span class="p">,</span>
                <span class="s">"fee_type"</span><span class="p">:</span> <span class="s">"GOVERNMENT"</span><span class="p">,</span>
                <span class="s">"inclusion_type"</span><span class="p">:</span> <span class="s">"ADDITIVE"</span><span class="p">,</span>
                <span class="s">"amount"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"currency_code"</span><span class="p">:</span> <span class="s">"AUD"</span><span class="p">,</span>
                    <span class="s">"minor_units"</span><span class="p">:</span> <span class="mi">10</span>
                <span class="p">},</span>
                <span class="s">"name"</span><span class="p">:</span> <span class="s">"GST"</span><span class="p">,</span>
                <span class="s">"apply_to_custom_amount"</span><span class="p">:</span> <span class="bp">True</span>
            <span class="p">})</span>
        <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Status Code: {status_code}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Response Body: {content}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'HTTP Request failed'</span><span class="p">)</span>

</code></pre><pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">MyRequestController</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sendRequest</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* Configure session, choose between:
           * defaultSessionConfiguration
           * ephemeralSessionConfiguration
           * backgroundSessionConfigurationWithIdentifier:
         And set session-wide properties, such as: HTTPAdditionalHeaders,
         HTTPCookieAcceptPolicy, requestCachePolicy or timeoutIntervalForRequest.
         */</span>
        <span class="k">let</span> <span class="nv">sessionConfig</span> <span class="o">=</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="k">default</span>

        <span class="cm">/* Create session, and optionally set a URLSessionDelegate. */</span>
        <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">sessionConfig</span><span class="p">,</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">delegateQueue</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

        <span class="cm">/* Create the Request:
           Create a fee (POST http://api.tappr.io/v1/businesses/:business_id/fees)
         */</span>

        <span class="k">guard</span> <span class="k">var</span> <span class="nv">URL</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"http://api.tappr.io/v1/businesses/:business_id/fees"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
        <span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>

        <span class="c1">// Headers</span>

        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Token "</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json; charset=utf-8"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>

        <span class="c1">// JSON Body</span>

        <span class="k">let</span> <span class="nv">bodyObject</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"ACTIVE"</span><span class="p">,</span>
            <span class="s">"calculation_phase"</span><span class="p">:</span> <span class="s">"TOTAL"</span><span class="p">,</span>
            <span class="s">"fee_type"</span><span class="p">:</span> <span class="s">"GOVERNMENT"</span><span class="p">,</span>
            <span class="s">"inclusion_type"</span><span class="p">:</span> <span class="s">"ADDITIVE"</span><span class="p">,</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">"currency_code"</span><span class="p">:</span> <span class="s">"AUD"</span><span class="p">,</span>
                <span class="s">"minor_units"</span><span class="p">:</span> <span class="mi">10</span>
            <span class="p">],</span>
            <span class="s">"name"</span><span class="p">:</span> <span class="s">"GST"</span><span class="p">,</span>
            <span class="s">"apply_to_custom_amount"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="k">try!</span> <span class="kt">JSONSerialization</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">withJSONObject</span><span class="p">:</span> <span class="n">bodyObject</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[])</span>

        <span class="cm">/* Start a new Task */</span>
        <span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">?,</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">URLResponse</span><span class="p">?,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Success</span>
                <span class="k">let</span> <span class="nv">statusCode</span> <span class="o">=</span> <span class="p">(</span><span class="n">response</span> <span class="k">as!</span> <span class="kt">HTTPURLResponse</span><span class="p">)</span><span class="o">.</span><span class="n">statusCode</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Succeeded: HTTP </span><span class="se">\(</span><span class="n">statusCode</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Failure</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"URL Session Task Failed: %@"</span><span class="p">,</span> <span class="n">error</span><span class="o">!.</span><span class="n">localizedDescription</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="nf">finishTasksAndInvalidate</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight shell"><code>    <span class="o">{</span>
        <span class="s2">"name"</span>:  <span class="s2">"GST"</span>,
        <span class="s2">"status"</span>:  <span class="s2">"ACTIVE"</span>,
        <span class="s2">"apply_to_custom_amount"</span>:  <span class="nb">true</span>,
        <span class="s2">"fee_type"</span>:  <span class="s2">"GOVERNMENT"</span>,
        <span class="s2">"inclusion_type"</span>:  <span class="s2">"ADDITIVE"</span>,
        <span class="s2">"calculation_phase"</span>:<span class="s2">"TOTAL"</span>,
        <span class="s2">"amount"</span>:<span class="o">{</span>
            <span class="s2">"minor_units"</span>:10,
            <span class="s2">"currency_code"</span>:<span class="s2">"AUD"</span>
                <span class="o">}</span>
    <span class="o">}</span>

</code></pre><pre class="highlight ruby"><code>    <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span>  <span class="s2">"GST"</span><span class="p">,</span>
        <span class="s2">"status"</span><span class="p">:</span>  <span class="s2">"ACTIVE"</span><span class="p">,</span>
        <span class="s2">"apply_to_custom_amount"</span><span class="p">:</span>  <span class="kp">true</span><span class="p">,</span>
        <span class="s2">"fee_type"</span><span class="p">:</span>  <span class="s2">"GOVERNMENT"</span><span class="p">,</span>
        <span class="s2">"inclusion_type"</span><span class="p">:</span>  <span class="s2">"ADDITIVE"</span><span class="p">,</span>
        <span class="s2">"calculation_phase"</span><span class="ss">:"TOTAL"</span><span class="p">,</span>
        <span class="s2">"amount"</span><span class="p">:{</span>
            <span class="s2">"minor_units"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
            <span class="s2">"currency_code"</span><span class="ss">:"AUD"</span>
                <span class="p">}</span>
    <span class="p">}</span>

</code></pre><pre class="highlight python"><code>    <span class="p">{</span>
        <span class="s">"name"</span><span class="p">:</span>  <span class="s">"GST"</span><span class="p">,</span>
        <span class="s">"status"</span><span class="p">:</span>  <span class="s">"ACTIVE"</span><span class="p">,</span>
        <span class="s">"apply_to_custom_amount"</span><span class="p">:</span>  <span class="n">true</span><span class="p">,</span>
        <span class="s">"fee_type"</span><span class="p">:</span>  <span class="s">"GOVERNMENT"</span><span class="p">,</span>
        <span class="s">"inclusion_type"</span><span class="p">:</span>  <span class="s">"ADDITIVE"</span><span class="p">,</span>
        <span class="s">"calculation_phase"</span><span class="p">:</span><span class="s">"TOTAL"</span><span class="p">,</span>
        <span class="s">"amount"</span><span class="p">:{</span>
            <span class="s">"minor_units"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
            <span class="s">"currency_code"</span><span class="p">:</span><span class="s">"AUD"</span>
                <span class="p">}</span>
    <span class="p">}</span>

</code></pre><pre class="highlight swift"><code>    <span class="p">{</span>
        <span class="s">"name"</span><span class="p">:</span>  <span class="s">"GST"</span><span class="p">,</span>
        <span class="s">"status"</span><span class="p">:</span>  <span class="s">"ACTIVE"</span><span class="p">,</span>
        <span class="s">"apply_to_custom_amount"</span><span class="p">:</span>  <span class="kc">true</span><span class="p">,</span>
        <span class="s">"fee_type"</span><span class="p">:</span>  <span class="s">"GOVERNMENT"</span><span class="p">,</span>
        <span class="s">"inclusion_type"</span><span class="p">:</span>  <span class="s">"ADDITIVE"</span><span class="p">,</span>
        <span class="s">"calculation_phase"</span><span class="p">:</span><span class="s">"TOTAL"</span><span class="p">,</span>
        <span class="s">"amount"</span><span class="p">:{</span>
            <span class="s">"minor_units"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
            <span class="s">"currency_code"</span><span class="p">:</span><span class="s">"AUD"</span>
                <span class="p">}</span>
    <span class="p">}</span>

</code></pre>
<h3 id="arguments">ARGUMENTS</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">tax_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (Required)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">string (Required)</td>
</tr>
</tbody></table>

<h2 id="delete-fee">Delete Fee</h2>

<p>Delete a tax.</p>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/businesses/:business_id/fees"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id="arguments">ARGUMENTS</h3>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th style="text-align: left">Note</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">tax_id</code></td>
<td style="text-align: left"><code class="prettyprint">query</code></td>
<td style="text-align: left">string (Required)</td>
</tr>
<tr>
<td style="text-align: left"><code class="prettyprint">business_id</code></td>
<td style="text-align: left"><code class="prettyprint">path</code></td>
<td style="text-align: left">string (Required)</td>
</tr>
</tbody></table>

          <h1 id="discounts">Discounts</h1>

<h2 id="discount-create">Discount Create</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/businesses/:business_id/discounts"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
    -d <span class="s1">'{ }'</span>

</code></pre>
<h2 id="get-all-discounts">Get all Discounts</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/businesses/:business_id/discounts"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
          <h1 id="businesses">Businesses</h1>

<h2 id="business-create">Business Create</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/businesses"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span> <span class="se">\</span>
    -d <span class="s1">'{ }'</span>
</code></pre>
<h2 id="get-all-businesses">Get all Businesses</h2>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/businesses"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cf3e762c-d19d-41f6-a396-b9f00999adbf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"address_resolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fortitude Valley"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"coordinates_resolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1062 Ann Street"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4006"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QLD"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d152fd34-c884-4d91-a6d1-82a7685bb210"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Primary"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1300TAPPR"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia/Brisbane"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5735"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c7dae556-fee0-4e8e-9c94-0deea6a16fd6"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"registered_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tappr Pty Ltd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trading_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tappr"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
        </span><span class="nt">"use_trading_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
          <h1 id="locations">Locations</h1>

<h2 id="location-create">Location Create</h2>

<p><code class="prettyprint">POST /v1/me/locations</code></p>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.tappr.io/businesses/:business_id/locations"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span> <span class="se">\</span>
    -d <span class="s1">'{ }'</span>
</code></pre>
<h2 id="get-locations">Get Locations</h2>

<p><code class="prettyprint">GET /v1/me/locations</code></p>

<p>Provides detials for a business&rsquo;s locations, including thier unique ID&rsquo;s. </p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.tappr.io/business/:business_id/locations"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="w">    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"address_resolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fortitude Valley"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"coordinates_resolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1062 Ann Street"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4006"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QLD"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d152fd34-c884-4d91-a6d1-82a7685bb210"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Primary"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1300TAPPR"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia/Brisbane"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479257221</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span></code></pre>
          <h1 id="customers">Customers</h1>

<p>Customers are anyone that interfaces with a Tappr terminal using a credit or debit card. </p>

<aside class="notice">Tappr&rsquo;s customer API module is currently in development alongside our Gateway. </aside>

          <h1 id="errors">Errors</h1>

<p>The API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request had an error</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified item could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The item requested has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many items! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="swift">swift</a>
          </div>
      </div>
    </div>
  </body>
</html>
